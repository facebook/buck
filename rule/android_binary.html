<!doctype html><html xmlns="http://www.w3.org/1999/xhtml"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns#"><script>var loc = new String(window.location); if (loc.indexOf('facebook.github.io/buck') != -1) {window.location.replace(loc.replace('facebook.github.io/buck', 'buck.build'));}</script><!-- Facebook Pixel Code --><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','//connect.facebook.net/en_US/fbevents.js'); fbq('init', '1637165926500152'); fbq('track', 'PageView');</script><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1637165926500152&ev=PageView&noscript=1" /></noscript><!-- End Facebook Pixel Code --><title>Buck: android_binary()</title><link type="image/png" rel="shortcut icon" href="/static/favicon.png" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" /><meta http-equiv="content-type" content="text/html;charset=utf-8"><link type="text/css" rel="stylesheet" href="/google-code-prettify/prettify.css" ><link type="text/css" rel="stylesheet" href="/static/buck.css"><link type="text/css" rel="stylesheet" href="/static/search.css"><link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" /><meta property="og:locale" content="en_US"><meta property="og:title" content="android_binary()"><meta property="og:site_name" content="Buck: a build tool"><meta property="og:image" content="http://buck.build/static/og.png"><meta property="og:type" content="article"><meta property="og:description" content="A rule that generates an Android APK."><meta property="fb:admins" content="584556688222168"><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44373548-18', 'auto');
    ga('send', 'pageview');
  </script></head><body><div id="fb-root"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=584556688222168"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script><header class='topbar'><nav class='width'><a href='http://buck.build/'><h1>Buck</h1></a><ul class='menu'><li class="algolia-search-wrapper"><input id="algolia-doc-search" type="search" placeholder="Search docs..." /></li><li><a href='/setup/getting_started.html'>Docs</a><li><a href='https://github.com/facebook/buck/issues'>Issues</a><li><a href='https://github.com/facebook/buck'>GitHub</a></ul></nav></header><section class='content'><div class='width'><article id="content"><h1>android_binary()</h1><div class="overview"><p>An <code>android_binary()</code> rule is used to generate an Android APK.</p><h2>Arguments</h2><ul class="arglist"><li id="name" class="arg"><h3><code class="argName">name</code> <span class="argDefault">(required)</span> <a class="inline-link" href="#name">#</a></h3><p>The <em>short name</em> for this <a href="/concept/build_target.html">build target</a>. Also, the name of the APK generated from this target.</p></li><li id="manifest" class="arg"><h3><code class="argName">manifest</code> <span class="argDefault">(defaults to <code>None</code>)</span> <a class="inline-link" href="#manifest">#</a></h3><p>Relative path to the Android manifest for the APK.  The common case is that the manifest will be in the same directory as the rule, in which case this will simply be <code>'AndroidManifest.xml'</code>, but it can also reference an <a href="/rule/android_manifest.html"><code>android_manifest</code></a> rule. Prefer using <code>manifest_skeleton</code>, which performs merging automatically. Exactly one of <code>manifest</code> and <code>manifest_skeleton</code> must be set.</p></li><li id="manifest_skeleton" class="arg"><h3><code class="argName">manifest_skeleton</code> <span class="argDefault">(defaults to <code>None</code>)</span> <a class="inline-link" href="#manifest_skeleton">#</a></h3><p>Relative path to the skeleton Android manifest for the APK. An <a href="/rule/android_manifest.html"><code>android_manifest</code></a> will be created automatically to merge all manifests from libraries and resources going into the app. The common case is that the manifest will be in the same directory as the rule, in which case this will simply be <code>'AndroidManifest.xml'</code>. Exactly one of <code>manifest</code> and <code>manifest_skeleton</code> must be set.</p></li><li id="keystore" class="arg"><h3><code class="argName">keystore</code> <span class="argDefault">(required)</span> <a class="inline-link" href="#keystore">#</a></h3><p>A build target that identifies a <a href="/rule/keystore.html"><code>keystore</code></a> to use to sign the APK.</p></li><li id="package_type" class="arg"><h3><code class="argName">package_type</code> <span class="argDefault">(defaults to <code>&#39;debug&#39;</code>)</span> <a class="inline-link" href="#package_type">#</a></h3><p>Determines whether ProGuard will be used when packaging the APK. Acceptable values for <code>package_type</code> are <code>'debug'</code> and<code>'release'</code>. The default value is <code>'debug'</code>, which indicates that ProGuard should not be used.<p><strong>Note:</strong> This argument will be renamed to reflect that it determines the use of ProGuard.</p></li><li id="proguard_config" class="arg"><h3><code class="argName">proguard_config</code> <span class="argDefault">(defaults to <code>None</code>)</span> <a class="inline-link" href="#proguard_config">#</a></h3><p>Relative path to a ProGuard configuration file that will be passed via the <code>-include</code> flag when <code>package_type</code> is <code>'release'</code>.</p></li><li id="android_sdk_proguard_config" class="arg"><h3><code class="argName">android_sdk_proguard_config</code> <span class="argDefault">(defaults to <code>&#39;default&#39;</code>)</span> <a class="inline-link" href="#android_sdk_proguard_config">#</a></h3><p>The type of proguard configuration to use from the Android SDK. Options are <code>'default'</code> to use the default config,<code>'optimized'</code> to use the config with optimizations enabled, or <code>'none'</code> to not use any standard configuration (you will need to supply your own version, otherwise your app will probably not work).</p></li><li id="ignore_aapt_proguard_config" class="arg"><h3><code class="argName">ignore_aapt_proguard_config</code> <span class="argDefault">(defaults to <code>False</code>)</span> <a class="inline-link" href="#ignore_aapt_proguard_config">#</a></h3><p>If true, the proguard config automatically generated by <code>aapt</code> will be ignored.</p></li><li id="no_dx" class="arg"><h3><code class="argName">no_dx</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#no_dx">#</a></h3><p>List of build targets that may have been included during compilation of  the transitive <code>android_library()</code> and <code>java_library()</code> dependencies, but should not be included in the <code>classes.dex</code> for generated for the APK.</p></li><li id="build_config_values" class="arg"><h3><code class="argName">build_config_values</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#build_config_values">#</a></h3><p>See the documentation on the <tt>values</tt> argument for <a href="/rule/android_build_config.html"><code>android_build_config</code></a>.</p></li><li id="build_config_values_file" class="arg"><h3><code class="argName">build_config_values_file</code> <span class="argDefault">(defaults to <code>None</code>)</span> <a class="inline-link" href="#build_config_values_file">#</a></h3><p>See the documentation on the <tt>values_file</tt> argument for <a href="/rule/android_build_config.html"><code>android_build_config</code></a>.</p></li><li id="aapt_mode" class="arg"><h3><code class="argName">aapt_mode</code> <span class="argDefault">(defaults to <code>aapt1</code>)</span> <a class="inline-link" href="#aapt_mode">#</a></h3><p>Set to <code>"aapt2"</code> to build resources for this app with aapt2.</p></li><li id="skip_crunch_pngs" class="arg"><h3><code class="argName">skip_crunch_pngs</code> <span class="argDefault">(defaults to <code>False</code>)</span> <a class="inline-link" href="#skip_crunch_pngs">#</a></h3><p>If <code>True</code>, PNGs in the APK are not crushed by aapt. This is equivalent to specifying<pre class="prettyprint lang-js">
  android {
      aaptOptions.useAaptPngCruncher = false
  }
  </pre>in gradle, or<pre class="prettyprint lang-xml">
  &lt;target name="-crunch">
      &lt;echo message="Skipping PNG optimization"/>
  &lt;/target>
  </pre>in ant. This can be useful if the PNGs have been optimised beforehand, as aapt would attempt to crush the optimised PNGs and end up increasing their size instead of decreasing it.</p></li><li id="duplicate_resource_behavior" class="arg"><h3><code class="argName">duplicate_resource_behavior</code> <span class="argDefault">(defaults to <code>allow_by_default</code>)</span> <a class="inline-link" href="#duplicate_resource_behavior">#</a></h3><p>If set to <code>"ban_by_default"</code>, duplicate resource definitions with the same type and name will cause the build to fail, unless they are excluded by <code>allowed_duplicate_resource_types</code>or <code>duplicate_resource_whitelist</code>. If set to <code>"allow_by_default"</code> (the default), no duplicate resource checks will be performed. They can still be enabled on individual types by using <code>banned_duplicate_resource_types</code>.</p></li><li id="banned_duplicate_resource_types" class="arg"><h3><code class="argName">banned_duplicate_resource_types</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#banned_duplicate_resource_types">#</a></h3><p>If <code>['string']</code> is used, the build will break if multiple string resources with the same name are added in an app's Android Resources. Resource names are name-spaced by resource type, this does not enforce unique names between multiple resource types. AAPT does not enforce this, but you can prevent easy-to-introduce resource bugs by enabling this.</p></li><li id="allowed_duplicate_resource_types" class="arg"><h3><code class="argName">allowed_duplicate_resource_types</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#allowed_duplicate_resource_types">#</a></h3><p>Similar to <code>banned_duplicate_resource_types</code>, but lists the types that are allowed to have duplicates. This should only be used if <code>duplicate_resource_behavior</code> is <code>"ban_by_default"</code>.</p></li><li id="duplicate_resource_whitelist" class="arg"><h3><code class="argName">duplicate_resource_whitelist</code> <span class="argDefault">(defaults to <code>None</code>)</span> <a class="inline-link" href="#duplicate_resource_whitelist">#</a></h3><p>Either a <a href="/concept/build_target.html">build target</a> or a path to a file containing a whitelist of resources that should be excluded from duplicate resource detection. Format is one resource per line with the type followed by the name, separated by a space. For example, <code>string app_name</code>.</p></li><li id="includes_vector_drawables" class="arg"><h3><code class="argName">includes_vector_drawables</code> <span class="argDefault">(defaults to <code>False</code>)</span> <a class="inline-link" href="#includes_vector_drawables">#</a></h3><p>When calling AAPT during the packaging process, pass the <code>--no-version-vectors</code> flag which ensures that any vector drawables which make use of the Android support library are backwards compatible with Android 4.4 and earlier.</p></li><li id="manifest_entries" class="arg"><h3><code class="argName">manifest_entries</code> <span class="argDefault">(defaults to <code>{}</code>)</span> <a class="inline-link" href="#manifest_entries">#</a></h3><p>Insert values into the packaged <code>AndroidManifest.xml</code> file. Valid values are <code>min_sdk_version</code>, <code>target_sdk_version</code>,<code>version_code</code>, <code>version_name</code>, and <code>debug_mode</code>. Example:<pre class="prettyprint lang-py">
  android_binary(
    # ... other args ...
    manifest_entries = {
        'version_code': 12,
        'version_name': '2.0',
        'min_sdk_version': 16,
        'target_sdk_version': 23,
        'debug_mode': True,
    }
  )
  </pre>This is equivalent to specifying<pre class="prettyprint lang-js">
  android {
      defaultConfig {
        versionCode 12
        versionName "2.0"
        minSdkVersion 16
        targetSdkVersion 23
      }
  }
  </pre>in gradle and building the debug <code>BuildType</code>. This is especially useful when combined with the <a href="/function/flatten_dicts.html"><code>flatten_dicts</code></a> function. This will allow you to share a default config across your rules, and override values as necessary.</p></li><li id="deps" class="arg"><h3><code class="argName">deps</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#deps">#</a></h3><p>List of build targets whose corresponding compiled Java code, Android resources, and native libraries will be included in the APK. From the transitive closure of these dependencies, the outputs of rules of the following type will be included in the APK:<ul><li><code>android_library()</code><li><code>android_resource()</code><li><code>cxx_library()</code><li><code>groovy_library()</code><li><code>java_library()</code><li><code>java_binary()</code><li><code>prebuilt_jar()</code><li><code>ndk_library()</code><li><code>prebuilt_native_library()</code></ul></p></li><li id="cpu_filters" class="arg"><h3><code class="argName">cpu_filters</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#cpu_filters">#</a></h3><p>The CPU architecture filter applied to the final apk. Could be a subset of <code>ARM</code>, <code>ARMV7</code>, <code>ARM64</code>, <code>X86</code>, <code>X86_64</code>, <code>MIPS</code>.<p><strong>Note</strong>: If you set this parameter, you must setup your NDK, otherwise BUCK build will fail. You can follow the Android SDK and NDK part of the <a href="/setup/install.html">install guide</a> to set it up.</p></p></li><li id="use_split_dex" class="arg"><h3><code class="argName">use_split_dex</code> <span class="argDefault">(defaults to <code>False</code>)</span> <a class="inline-link" href="#use_split_dex">#</a></h3><p><p>If this argument is <code>True</code>, Buck enables <em>multidex</em> support for the output APK. Multidex support enables your app to use multiple Dalvik Executable (DEX) bytecode files and thereby work around the 64K limit on the number of methods that can be referenced in a single DEX file.</p><p><pre>
use_split_dex = True
</pre></p><p>For more information on multidex support, go to the <a href="https://developer.android.com/studio/build/multidex">Android Developer Documentation</a>.</p></p></li><li id="application_module_configs" class="arg"><h3><code class="argName">application_module_configs</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#application_module_configs">#</a></h3><p><p>A map of module names to lists of targets, where the targets should <em>seed</em> the corresponding module. The seed targets and their exclusive dependencies are packaged into the APK in separate files to allow them to be loaded independently.</p></p></li><li id="linear_alloc_hard_limit" class="arg"><h3><code class="argName">linear_alloc_hard_limit</code> <span class="argDefault">(defaults to <code>4194304</code>)</span> <a class="inline-link" href="#linear_alloc_hard_limit">#</a></h3><p>The size at which secondary dex files should be split when building an <a href="/article/exopackage.html">exopackage</a> in bytes.<p>It is set 4MB by default, because Android 2.3 has a LinearAlloc limit of 5MB and 1MB is taken up by the framework.  More recent versions of Android have a LinearAlloc limit of 8MB or 16MB, so if the APK is only targeted for versions newer than 2.3, a 7MB limit is safe to use.</p></p></li><li id="skip_proguard" class="arg"><h3><code class="argName">skip_proguard</code> <span class="argDefault">(defaults to <code>False</code>)</span> <a class="inline-link" href="#skip_proguard">#</a></h3><p>To produce a release build without running ProGuard set the <code>skip_proguard</code> flag to <code>True</code>. This will still cause ProGuard configuration files to be generated for use by other optimizers like Redex.</p></li><li id="redex" class="arg"><h3><code class="argName">redex</code> <span class="argDefault">(defaults to <code>False</code>)</span> <a class="inline-link" href="#redex">#</a></h3><p><p>Set this to <code>True</code> to run ReDex on the APK generated by this rule.</p></p></li><li id="redex_config" class="arg"><h3><code class="argName">redex_config</code> <span class="argDefault">(defaults to <code>None</code>)</span> <a class="inline-link" href="#redex_config">#</a></h3><p><p>Path to a ReDex config file. (This is passed as via the <code>--config</code> option to ReDex.) Note this may be a generated file.</p></p></li><li id="redex_extra_args" class="arg"><h3><code class="argName">redex_extra_args</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#redex_extra_args">#</a></h3><p><p>A list of additional arguments to pass to the ReDex binary.</p></p></li><li id="native_library_merge_map" class="arg"><h3><code class="argName">native_library_merge_map</code> <span class="argDefault">(defaults to <code>{}</code>)</span> <a class="inline-link" href="#native_library_merge_map">#</a></h3><p><p>An advanced option for apps with many native libraries. For more details, see <a href="https://github.com/fbsamples/android-native-library-merging-demo">this article</a>.</p></p></li><li id="visibility" class="arg"><h3><code class="argName">visibility</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#visibility">#</a></h3><p>List of <a href="/concept/build_target_pattern.html">build target patterns</a> that identify the build rules that can include this rule as a dependency, for example, by listing it in their <code>deps</code> or <code>exported_deps</code> attributes. For more information, see <a href="/concept/visibility.html">visibility</a>.</p></li><li id="licenses" class="arg"><h3><code class="argName">licenses</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#licenses">#</a></h3><p>Set of license files for this library.  To get the list of license files for a given <a href="/concept/build_rule.html">build rule</a> and all of its dependencies, you can use <a href="/command/query.html"><code>buck query</code></a>.</p></li><li id="labels" class="arg"><h3><code class="argName">labels</code> <span class="argDefault">(defaults to <code>[]</code>)</span> <a class="inline-link" href="#labels">#</a></h3><p>Set of arbitrary strings which allow you to annotate a <a href="/concept/build_rule.html">build rule</a> with tags that can be searched for over an entire dependency tree using <a href="/command/query.html#attrfilter"><code>buck query attrfilter()</code></a>.</p></li></ul><h2>Examples</h2>Here is an example of an <code>android_binary()</code> rule that includes Android resources from one dependency and compiled Java code from another dependency:<pre class="prettyprint lang-py">
android_resource(
  name = 'res',
  res = 'res',
  assets = 'assets',
)

android_library(
  name = 'src',
  srcs = glob(['src/**/*.java']),
  deps = [
    ':res',
  ],
)

# Building this rule will produce a file named messenger.apk.
android_binary(
  name = 'messenger',
  manifest = 'AndroidManifest.xml',
  keystore = '//keystores:prod',
  package_type = 'release',
  proguard_config = 'proguard.cfg',
  deps = [
    ':res',
    ':src',
  ],
)
</pre><h2 id="redex-overview">ReDex</h2><p>Buck makes it easy to run <a href="http://fbredex.com/">ReDex</a> as part of <code>android_binary()</code>. ReDex is an Android bytecode optimizer that can help reduce the size of your release builds. Please refer to <a href="http://fbredex.com/">ReDex</a> for instructions on how to create a ReDex executable.</p><p>Currently, the path to ReDex must be specified as a path (or build target) in <code>.buckconfig</code>:</p><pre class="prettyprint lang-ini">
[android]
  # In this example, we assume that you have ReDex packaged as a single
  # executable file named redex-bin. Read "Creating redex-bin" below on how
  # to create this file. Note that the expectation is that you check
  # redex-bin into your project.
  redex = third-party/native/redex/redex-bin

  # Alternatively, you could create a genrule(), such as
  # //tools/redex:redex, that wraps ReDex. It must have
  # `executable = True` to ensure the genrule() is runnable.
  # In this case, you would specify the build target instead
  # of the file path.
  # redex = //tools/redex:redex
</pre><p>If a ReDex executable is set properly in <code>.buckconfig</code>, then it is possible to run ReDex as part of building an <code>android_binary()</code>, but the following conditions must hold:</p><ul><li><code>redex = True</code> must be set on the <code>android_binary()</code>.</ul><p>Other ReDex configuration options on <code>android_binary()</code> include:</p><ul><li><code><a href="#arg/redex_config">redex_config</a></code><li><code><a href="#arg/redex_json_args">redex_json_args</a></code></ul><h2>Fast DEX merging for Android</h2><p>Buck includes a customized version of the Android DEX compiler, <code>dx</code>, which includes significant performance improvements.  It uses a faster algorithm for merging many DEX files, which is especially effective because of Buck's support for fine-grained libraries.</p><p>The custom version of <code>dx</code> also supports running multiple copies of <code>dx</code> concurrently within a single long-lived <code>buckd</code> process, which eliminates most of <code>dx's</code> start-up time.</p></div></article><nav><h3>The Basics</h3><ul><li class=""><a href="/setup/getting_started.html">Getting Started</a></li><li class=""><a href="/about/overview.html">Key Concepts</a></li><li class=""><a href="/learning/tutorial.html">Tutorial</a></li><li class=""><a href="/setup/intellij_plugin_install.html">Installing the IntelliJ Plugin</a></li><li class=""><a href="/article/exopackage.html">Exopackage</a></li><li class=""><a href="/article/query_cheat_sheet.html">Buck Cheat Sheet</a></li></ul><h3>About</h3><ul><li class=""><a href="/concept/what_makes_buck_so_fast.html">What Makes Buck so Fast?</a></li><li class=""><a href="/about/showcase.html">Showcase</a></li><li class=""><a href="/concept/troubleshooting.html">Troubleshooting</a></li><li class=""><a href="/about/performance_tuning.html">Performance Tuning</a></li><li class=""><a href="/concept/faq.html">FAQ</a></li><li class=""><a href="/presentations/index.html">Learn More (Buck Presentations)</a></li></ul><h3>Concepts</h3><ul><li class=""><a href="/concept/build_rule.html">Build Rule</a></li><li class=""><a href="/concept/build_file.html">Build File</a></li><li class=""><a href="/concept/build_target.html">Build Target</a></li><li class=""><a href="/concept/build_target_pattern.html">Build Target Pattern</a></li><li class=""><a href="/concept/buckd.html">Buck Daemon (buckd)</a></li><li class=""><a href="/concept/visibility.html">Visibility</a></li><li class=""><a href="/concept/flavors.html">Flavors</a></li><li class=""><a href="/concept/http_cache_api.html">HTTP Cache API</a></li><li class=""><a href="/concept/rule_keys.html">Rule Keys</a></li><li class=""><a href="/concept/java_abis.html">Java ABIs</a></li><li class=""><a href="/concept/skylark.html">Skylark</a></li></ul><h3>Files and Directories</h3><ul><li class=""><a href="/files-and-dirs/buckconfig.html">.buckconfig</a></li><li class=""><a href="/files-and-dirs/buckjavaargs.html">.buckjavaargs</a></li><li class=""><a href="/files-and-dirs/buck-out.html">buck-out</a></li></ul><h3>Commands</h3><ul><li class=""><a href="/command/common_parameters.html">Common Parameters</a></li><li class=""><a href="/command/audit.html">buck audit</a></li><li class=""><a href="/command/build.html">buck build</a></li><li class=""><a href="/command/clean.html">buck clean</a></li><li class=""><a href="/command/doctor.html">buck doctor</a></li><li class=""><a href="/command/fetch.html">buck fetch</a></li><li class=""><a href="/command/fix.html">buck fix</a></li><li class=""><a href="/command/install.html">buck install</a></li><li class=""><a href="/command/kill.html">buck kill</a></li><li class=""><a href="/command/killall.html">buck killall</a></li><li class=""><a href="/command/project.html">buck project</a></li><li class=""><a href="/command/publish.html">buck publish</a></li><li class=""><a href="/command/query.html">buck query</a></li><li class=""><a href="/command/run.html">buck run</a></li><li class=""><a href="/command/root.html">buck root</a></li><li class=""><a href="/command/server.html">buck server</a></li><li class=""><a href="/command/targets.html">buck targets</a></li><li class=""><a href="/command/test.html">buck test</a></li><li class=""><a href="/command/uninstall.html">buck uninstall</a></li><li class=""><a href="/command/exit_codes.html">Exit Codes</a></li></ul><h3>Build Rules</h3><ul><li><strong>Core</strong></li><li class=""><a href="/rule/command_alias.html">command_alias()</a></li><li class=""><a href="/rule/export_file.html">export_file()</a></li><li class=""><a href="/rule/filegroup.html">filegroup()</a></li><li class=""><a href="/rule/genrule.html">genrule()</a></li><li class=""><a href="/rule/http_archive.html">http_archive()</a></li><li class=""><a href="/rule/http_file.html">http_file()</a></li><li class=""><a href="/rule/remote_file.html">remote_file()</a></li><li class=""><a href="/rule/test_suite.html">test_suite()</a></li><li class=""><a href="/rule/worker_tool.html">worker_tool()</a></li><li class=""><a href="/rule/zip_file.html">zip_file()</a></li><li><strong>Android</strong></li><li class=""><a href="/rule/android_aar.html">android_aar()</a></li><li class="navActiveItem"><a href="/rule/android_binary.html">android_binary()</a></li><li class=""><a href="/rule/android_build_config.html">android_build_config()</a></li><li class=""><a href="/rule/android_instrumentation_apk.html">android_instrumentation_apk()</a></li><li class=""><a href="/rule/android_instrumentation_test.html">android_instrumentation_test()</a></li><li class=""><a href="/rule/android_library.html">android_library()</a></li><li class=""><a href="/rule/android_manifest.html">android_manifest()</a></li><li class=""><a href="/rule/android_prebuilt_aar.html">android_prebuilt_aar()</a></li><li class=""><a href="/rule/android_resource.html">android_resource()</a></li><li class=""><a href="/rule/apk_genrule.html">apk_genrule()</a></li><li class=""><a href="/rule/gen_aidl.html">gen_aidl()</a></li><li class=""><a href="/rule/keystore.html">keystore()</a></li><li class=""><a href="/rule/ndk_library.html">ndk_library()</a></li><li class=""><a href="/rule/prebuilt_jar.html">prebuilt_jar()</a></li><li class=""><a href="/rule/prebuilt_native_library.html">prebuilt_native_library()</a></li><li class=""><a href="/rule/robolectric_test.html">robolectric_test()</a></li><li><strong>CXX</strong></li><li class=""><a href="/rule/cxx_binary.html">cxx_binary()</a></li><li class=""><a href="/rule/cxx_library.html">cxx_library()</a></li><li class=""><a href="/rule/cxx_genrule.html">cxx_genrule()</a></li><li class=""><a href="/rule/cxx_precompiled_header.html">cxx_precompiled_header()</a></li><li class=""><a href="/rule/cxx_test.html">cxx_test()</a></li><li class=""><a href="/rule/prebuilt_cxx_library.html">prebuilt_cxx_library()</a></li><li class=""><a href="/rule/prebuilt_cxx_library_group.html">prebuilt_cxx_library_group()</a></li><li><strong>D</strong></li><li class=""><a href="/rule/d_binary.html">d_binary()</a></li><li class=""><a href="/rule/d_library.html">d_library()</a></li><li class=""><a href="/rule/d_test.html">d_test()</a></li><li><strong>Go</strong></li><li class=""><a href="/rule/go_binary.html">go_binary()</a></li><li class=""><a href="/rule/go_library.html">go_library()</a></li><li class=""><a href="/rule/go_test.html">go_test()</a></li><li class=""><a href="/rule/cgo_library.html">cgo_library()</a></li><li><strong>Groovy</strong></li><li class=""><a href="/rule/groovy_library.html">groovy_library()</a></li><li><strong>Halide</strong></li><li class=""><a href="/rule/halide_library.html">halide_library()</a></li><li><strong>Haskell</strong></li><li class=""><a href="/rule/haskell_binary.html">haskell_binary()</a></li><li class=""><a href="/rule/haskell_library.html">haskell_library()</a></li><li class=""><a href="/rule/prebuilt_haskell_library.html">prebuilt_haskell_library()</a></li><li><strong>iOS</strong></li><li class=""><a href="/rule/apple_asset_catalog.html">apple_asset_catalog()</a></li><li class=""><a href="/rule/apple_binary.html">apple_binary()</a></li><li class=""><a href="/rule/apple_bundle.html">apple_bundle()</a></li><li class=""><a href="/rule/apple_library.html">apple_library()</a></li><li class=""><a href="/rule/apple_package.html">apple_package()</a></li><li class=""><a href="/rule/apple_resource.html">apple_resource()</a></li><li class=""><a href="/rule/apple_test.html">apple_test()</a></li><li class=""><a href="/rule/core_data_model.html">core_data_model()</a></li><li class=""><a href="/rule/prebuilt_apple_framework.html">prebuilt_apple_framework()</a></li><li><strong>Java</strong></li><li class=""><a href="/rule/java_binary.html">java_binary()</a></li><li class=""><a href="/rule/java_library.html">java_library()</a></li><li class=""><a href="/rule/java_test.html">java_test()</a></li><li class=""><a href="/rule/prebuilt_jar.html">prebuilt_jar()</a></li><li class=""><a href="/rule/prebuilt_native_library.html">prebuilt_native_library()</a></li><li><strong>Kotlin</strong></li><li class=""><a href="/rule/kotlin_library.html">kotlin_library()</a></li><li class=""><a href="/rule/kotlin_test.html">kotlin_test()</a></li><li><strong>Lua</strong></li><li class=""><a href="/rule/cxx_lua_extension.html">cxx_lua_extension()</a></li><li class=""><a href="/rule/lua_binary.html">lua_binary()</a></li><li class=""><a href="/rule/lua_library.html">lua_library()</a></li><li><strong>OCaml</strong></li><li class=""><a href="/rule/ocaml_binary.html">ocaml_binary()</a></li><li class=""><a href="/rule/ocaml_library.html">ocaml_library()</a></li><li><strong>Python</strong></li><li class=""><a href="/rule/prebuilt_python_library.html">prebuilt_python_library()</a></li><li class=""><a href="/rule/python_binary.html">python_binary()</a></li><li class=""><a href="/rule/python_library.html">python_library()</a></li><li class=""><a href="/rule/python_test.html">python_test()</a></li><li><strong>Rust</strong></li><li class=""><a href="/rule/rust_binary.html">rust_binary()</a></li><li class=""><a href="/rule/rust_library.html">rust_library()</a></li><li class=""><a href="/rule/rust_test.html">rust_test()</a></li><li class=""><a href="/rule/prebuilt_rust_library.html">prebuilt_rust_library()</a></li><li><strong>Shell</strong></li><li class=""><a href="/rule/sh_binary.html">sh_binary()</a></li><li class=""><a href="/rule/sh_test.html">sh_test()</a></li><li><strong>.NET</strong></li><li class=""><a href="/rule/csharp_library.html">csharp_library()</a></li><li class=""><a href="/rule/prebuilt_dotnet_library.html">prebuilt_dotnet_library()</a></li></ul><h3>Functions</h3><ul><li><strong>Python DSL</strong></li><li class=""><a href="/function/add_build_file_dep.html">add_build_file_dep()</a></li><li class=""><a href="/function/allow_unsafe_import.html">allow_unsafe_import()</a></li><li class=""><a href="/function/flatten_dicts.html">flatten_dicts()</a></li><li class=""><a href="/function/glob.html">glob()</a></li><li class=""><a href="/function/get_base_path.html">get_base_path()</a></li><li class=""><a href="/function/get_cell_name.html">get_cell_name()</a></li><li class=""><a href="/function/host_info.html">host_info()</a></li><li class=""><a href="/function/include_defs.html">include_defs()</a></li><li class=""><a href="/function/load.html">load()</a></li><li class=""><a href="/function/read_config.html">read_config()</a></li><li class=""><a href="/function/subdir_glob.html">subdir_glob()</a></li><li class=""><a href="/function/string_parameter_macros.html">String Parameter Macros</a></li></ul><ul><li><strong>Skylark</strong></li><li class=""><a href="/skylark/generated/glob.html">glob()</a></li><li class=""><a href="/skylark/generated/host_info.html">host_info()</a></li><li class=""><a href="/skylark/generated/package_name.html">package_name()</a></li><li class=""><a href="/skylark/generated/provider.html">provider()</a></li><li class=""><a href="/skylark/generated/read_config.html">read_config()</a></li><li class=""><a href="/skylark/generated/repository_name.html">repository_name()</a></li><li class=""><a href="/skylark/generated/rule_exists.html">rule_exists()</a></li></ul><h3>Extending Buck</h3><ul><li class=""><a href="/extending/macros.html">Custom Macros</a></li><li class=""><a href="/extending/rules.html">Custom Rules</a></li><li class=""><a href="/extending/e2e_tests.html">Building E2E Tests for Buck</a></li></ul></nav></div></section><footer><div class='width'>&copy; Copyright Facebook, 2013 - 2020</div></footer><!-- Algolia Search Code --><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
docsearch({
  apiKey: 'c25b7174e8f6161ce5fdd44bb0b95081',
  indexName: 'buckbuild',
  inputSelector: '#algolia-doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script><!-- End Algolia Search Code --><script src="/google-code-prettify/prettify.js"></script><script>prettyPrint()</script></body></html>