<!doctype html><html xmlns="http://www.w3.org/1999/xhtml"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns#"><title>Buck: Code Style</title><link type="image/png" rel="shortcut icon" href="/buck/static/favicon.png" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" /><meta http-equiv="content-type" content="text/html;charset=utf-8"><link type="text/css" rel="stylesheet" href="/buck/static/buck.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-40185670-1', 'github.io'); ga('send', 'pageview');</script><meta property="og:locale" content="en_US"><meta property="og:title" content="Code Style"><meta property="og:site_name" content="Buck: an Android build tool"><meta property="og:image" content="http://facebook.github.io/buck/static/og.png"><meta property="og:type" content="article"><meta property="fb:admins" content="584556688222168"></head><body><div id="fb-root"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=584556688222168"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script><header class='topbar'><nav class='width'><a href='http://facebook.github.io/buck/'><h1>Buck</h1></a><ul class='menu'><li><a href='/buck/setup/quick_start.html'>Get Started</a><li><a href='https://groups.google.com/forum/#!forum/buck-build'>Group</a><li><a href='/buck/javadoc/'>API</a><li><a href='https://github.com/facebook/buck'>GitHub</a></ul></nav></header><section class='content'><div class='width'><article><h1>Code Style</h1><div class="overview">Writing a detailed Java style guide takes a considerable amount of effort, so here are the highlights for what we expect in Buck:<ul class="top-level-list"><li>Spacing<ul><li>Spaces only: no tabs.<li>Standard indent is 2 spaces; continued lines are indented 4 spaces.<li>Lines are a maximum of 100 columns.<li>For a method call/declaration, if all params do not fit on one line, then each param should be on its own line.</ul><li>Naming<ul><li>The use of Hungarian notation in any form is prohibited.<li>Prefer descriptive names to single-letter names. The primary exceptions to this rule are (1) the use of <code>e</code> for the name of an exception in a <code>catch</code> block, and (2) the use of <code>i</code> as the name of an index in a <code>for</code> loop.</ul><li>Null<ul><li>In the spirit of Guava, references are assumed to be non-null unless otherwise noted.<li>Non-null parameters should be verified using <a href="http://docs.guava-libraries.googlecode.com/git-history/v15.0/javadoc/com/google/common/base/Preconditions.html#checkNotNull(T)"><code>Preconditions.checkNotNull()</code></a>.<li>A nullable reference should be annotated with <code>@javax.annotation.Nullable</code>.<li>A popular alternative to <code>@Nullable</code> is <a href="http://docs.guava-libraries.googlecode.com/git-history/v15.0/javadoc/com/google/common/base/Optional.html"><code>com.google.common.base.Optional</code></a>.<li>Annotating an <code>Optional</code> as <code>@Nullable</code> is grounds for dismissal.</ul><li>APIs<ul><li>Guava should be used liberally.<li>In particular, favor Guava's immutable collections. In addition to preventing aliasing bugs, they disallow <code>null</code> as an element, which is in line with the previous bullet point.<li><code>Logger</code>, <code>log4j</code>, etc. should not be used. Log messages should be printed using <code>com.facebook.buck.cli.Console</code> and should respect the <code>--verbosity</code> flag.</ul><li>Comments<ul><li>Comments should be valid US-English sentences: they should start with a capital letter and end with appropriate punctuation.<li>One space after a full stop is preferred. This makes it easier to honor the 100 column rule. This may violate what you learned in high school, but browsers have been condensing your two spaces down to one in HTML for years, so you are likely more accustomed to it than you think.<li>The specification of a field or member should be documented using Javadoc (i.e., <code>&#x2F;** */</code>) rather than implementation comments (i.e., <code>//</code>), even if the field or member is <code>private</code>.<li>A Javadoc comment should be preceded by a blank line.</ul><li>Imports<ul><li>No wildcards in imports.<li>Non-<code>java</code> imports are listed before <code>java</code> imports.<li><code>java</code> imports are listed before <code>javax</code> imports.<li>Files should not contain unnecessary imports. Use your favorite IDE to help you with this.</ul><li>Warnings<ul><li>Code should compile without warnings. To enforce this, we use a combination of <code>-Xlint</code> and <code>-Werror</code> flags to <code>javac</code> in addition to a number of other static checks provided by <a href="http://pmd.sourceforge.net/">PMD</a>.<li>Warnings should either be fixed or annotated with <code>@SuppressWarnings("type-of-warning")</code>, as appropriate.</ul></ul></div></article><nav><h3>Getting Started</h3><ul><li><a href="/buck/">Overview</a><li><a href="/buck/setup/quick_start.html">Quick Start</a><li><a href="/buck/setup/install.html">Downloading and Installing Buck</a></ul><h3>About</h3><ul><li><a href="/buck/concept/what_makes_buck_so_fast.html">What Makes Buck so Fast?</a><li><a href="/buck/concept/troubleshooting.html">Troubleshooting</a><li><a href="/buck/about/performance_tuning.html">Performance Tuning</a><li><a href="/buck/concept/faq.html">FAQ</a></ul><h3>Concepts</h3><ul><li><a href="/buck/concept/build_rule.html">Build Rule</a><li><a href="/buck/concept/build_target.html">Build Target</a><li><a href="/buck/concept/build_file.html">Build File</a><li><a href="/buck/concept/buckversion.html">.buckversion</a><li><a href="/buck/concept/nobuckcheck.html">.nobuckcheck</a><li><a href="/buck/concept/buckconfig.html">.buckconfig</a><li><a href="/buck/concept/build_target_pattern.html">Build Target Pattern</a><li><a href="/buck/concept/visibility.html">Visibility</a></ul><h3>Build Rules</h3><ul><li><a href="/buck/rule/android_binary.html">android_binary()</a><li><a href="/buck/rule/android_library.html">android_library()</a><li><a href="/buck/rule/android_resource.html">android_resource()</a><li><a href="/buck/rule/apk_genrule.html">apk_genrule()</a><li><a href="/buck/rule/gen_aidl.html">gen_aidl()</a><li><a href="/buck/rule/genrule.html">genrule()</a><li><a href="/buck/rule/java_binary.html">java_binary()</a><li><a href="/buck/rule/java_library.html">java_library()</a><li><a href="/buck/rule/java_test.html">java_test()</a><li><a href="/buck/rule/keystore.html">keystore()</a><li><a href="/buck/rule/ndk_library.html">ndk_library()</a><li><a href="/buck/rule/prebuilt_jar.html">prebuilt_jar()</a><li><a href="/buck/rule/prebuilt_native_library.html">prebuilt_native_library()</a><li><a href="/buck/rule/project_config.html">project_config()</a></ul><h3>Functions</h3><ul><li><a href="/buck/function/genfile.html">genfile()</a><li><a href="/buck/function/glob.html">glob()</a><li><a href="/buck/function/include_defs.html">include_defs()</a></ul><h3>Commands</h3><ul><li><a href="/buck/command/audit.html">buck audit</a><li><a href="/buck/command/build.html">buck build</a><li><a href="/buck/command/clean.html">buck clean</a><li><a href="/buck/command/install.html">buck install</a><li><a href="/buck/command/project.html">buck project</a><li><a href="/buck/command/quickstart.html">buck quickstart</a><li><a href="/buck/command/targets.html">buck targets</a><li><a href="/buck/command/test.html">buck test</a><li><a href="/buck/command/uninstall.html">buck uninstall</a><li><a href="/buck/command/buckd.html">buckd</a></ul><h3>Extending Buck</h3><ul><li><a href="/buck/extending/macros.html">Custom Macros</a><li><a href="/buck/extending/rules.html">Custom Rules</a></ul><h3>Contributing to Buck</h3><ul><li><a href="https://groups.google.com/group/buck-build">Discussion Group</a><li><a href="https://github.com/facebook/buck/issues/new">Report a Bug</a><li><a href="/buck/contributing/development.html">Development Workflow</a><li><a href="/buck/contributing/codestyle.html">Code Style</a><li><a href="/buck/javadoc">API</a><li><a href="https://github.com/facebook/buck">Browse the Source Code</a></ul></ul></nav></div></section><footer><div class='width'>&copy; Copyright Facebook, 2013 -</div></footer></body></html>